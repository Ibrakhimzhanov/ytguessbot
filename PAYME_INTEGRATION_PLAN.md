# –ü–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Payme Business –¥–ª—è –∫—É—Ä—Å-–±–æ—Ç–∞

## üìã –≠—Ç–∞–ø—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π —ç—Ç–∞–ø
- [ ] –ò–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Subscribe API
- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å –≤ Payme Business
- [ ] –ü–æ–ª—É—á–∏—Ç—å ID –∫–∞—Å—Å—ã –∏ –∫–ª—é—á-–ø–∞—Ä–æ–ª—å
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ä–µ–¥—É

### 2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### üîπ Endpoints –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
- **–¢–µ—Å—Ç:** https://checkout.test.paycom.uz/api
- **–ü—Ä–æ–¥–∞–∫—à–Ω:** https://checkout.paycom.uz/api

#### üîπ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
```
X-Auth: {id}:{password}
```

### 3. –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–µ—Ç–æ–¥—ã Subscribe API

#### üî∏ cards.create - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∫–∞—Ä—Ç—ã
```json
{
  "method": "cards.create", 
  "params": {
    "card": {
      "number": "8600069195406311",
      "expire": "0399"
    },
    "save": true
  }
}
```

#### üî∏ cards.get_verify_code - –ø–æ–ª—É—á–µ–Ω–∏–µ SMS –∫–æ–¥–∞
```json
{
  "method": "cards.get_verify_code",
  "params": {
    "token": "card_token_here"
  }
}
```

#### üî∏ cards.verify - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã
```json
{
  "method": "cards.verify",
  "params": {
    "token": "card_token_here", 
    "code": "666666"
  }
}
```

#### üî∏ receipts.create - —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ–∫–∞
```json
{
  "method": "receipts.create",
  "params": {
    "amount": 110000000, // –≤ —Ç–∏–π–∏–Ω–∞—Ö (1,100,000 —Å—É–º)
    "account": {
      "order_id": 1, // –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ –∏–∑ –ë–î
      "user_id": "user_uuid_here"
    }
  }
}
```

#### üî∏ receipts.pay - –æ–ø–ª–∞—Ç–∞ —á–µ–∫–∞
```json
{
  "method": "receipts.pay", 
  "params": {
    "id": "receipt_id_here",
    "token": "card_token_here"
  }
}
```

#### üî∏ receipts.check - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```json
{
  "method": "receipts.check",
  "params": {
    "id": "receipt_id_here"
  }
}
```

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–µ–∫—É—â–∏–º –±–æ—Ç–æ–º

#### üîπ –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ pay_payme:
1. –°–æ–∑–¥–∞—Ç—å —á–µ–∫ —á–µ—Ä–µ–∑ `receipts.create`
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å—Å—ã–ª–∫—É –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∫–∞—Ä—Ç—ã
3. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ `receipts.check`
4. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ –ë–î

#### üîπ –î–æ–±–∞–≤–∏—Ç—å webhook –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
- Payme –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –ø–ª–∞—Ç–µ–∂–∞
- –û–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### üî∏ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:
- **–ö–∞–±–∏–Ω–µ—Ç:** https://merchant.test.paycom.uz/
- **–õ–æ–≥–∏–Ω:** –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- **–ü–∞—Ä–æ–ª—å:** qwerty  
- **SMS-–∫–æ–¥:** 666666

#### üî∏ –¢–µ—Å—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞:
- **–ù–æ–º–µ—Ä:** 8600 0691 9540 6311
- **–°—Ä–æ–∫:** 03/99
- **SMS-–∫–æ–¥:** 666666

### 6. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ª–µ–π–±–ª "Powered by Payme"

### 7. –ì–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

#### üìÅ `/src/lib/payme.ts` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
#### üìÅ `/src/app/api/payme-webhook/route.ts` - webhook –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π  
#### üìÅ –û–±–Ω–æ–≤–∏—Ç—å `bot-handlers.ts` - –Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø–ª–∞—Ç—ã

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –≤ Payme Business
2. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å PaymeService –∫–ª–∞—Å—Å
4. –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –±–æ—Ç–∞
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ
6. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
